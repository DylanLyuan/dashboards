# KPI绩效分析仪表板需求总结

## 项目概述
创建一个暗黑模式的商务风格KPI绩效分析仪表板，采用蓝色系配色，字体统一为12px，布局紧凑。

## 核心功能需求

### 1. 筛选功能
- 多选下拉框组件，支持按月筛选，可选择多个月份

### 2. 五个核心图表模块

#### 2.1 绩效总览 (饼状图)
- **图表类型**: 饼状图 (Pie Chart)
- **位置布局**: 左上角位置
- **数据维度**: 
  - A级绩效人员数量及占比 (深蓝色 #1e40af)
  - B级绩效人员数量及占比 (中蓝色 #3b82f6)  
  - C级绩效人员数量及占比 (浅蓝色 #60a5fa)
  - D级绩效人员数量及占比 (淡蓝色 #93c5fd)
- **数据示例**: A级25人(25%), B级35人(35%), C级28人(28%), D级12人(12%)
- **视觉特征**: 
  - 图例显示在底部
  - 扇形区域有明显边框分隔
  - 鼠标悬浮时扇形区域高亮
- **交互功能**: 
  - 点击任意扇形区域触发弹窗
  - 弹窗标题: "{等级}绩效人员详情"
  - 显示该等级所有员工的详细绩效信息

#### 2.2 绩效奖金统计 (组合图表)
- **图表类型**: 柱状图 + 折线图组合 (Bar + Line Chart)
- **位置布局**: 右上角位置
- **数据维度**:
  - **主轴(左Y轴)**: 奖金金额(万元) - 柱状图显示
    - 数据示例: 1月120万, 2月150万, 3月180万, 4月200万, 5月170万, 6月220万
    - 颜色: 深蓝色 (#1e40af)
  - **副轴(右Y轴)**: 获奖人数占比(%) - 折线图显示  
    - 数据示例: 1月25%, 2月30%, 3月35%, 4月40%, 5月32%, 6月45%
    - 颜色: 橙色 (#f59e0b)
- **视觉特征**:
  - X轴显示月份(1月-6月)
  - 折线图使用直线连接(tension: 0)
  - 折线图层级高于柱状图(order: 0)
  - 折线点半径4px，悬浮时6px
  - 双Y轴刻度，左侧显示金额，右侧显示百分比
- **交互功能**:
  - 点击任意月份的柱体或折线点触发弹窗
  - 弹窗标题: "{月份}奖金获得者详情"
  - 显示该月获得奖金员工的绩效详情

#### 2.3 回款统计 (组合图表)
- **图表类型**: 柱状图 + 折线图组合 (Bar + Line Chart)
- **位置布局**: 左下角位置
- **数据维度**:
  - **主轴(左Y轴)**: 累计回款金额(万元) - 柱状图显示
    - 数据示例: 1月800万, 2月950万, 3月1200万, 4月1100万, 5月1300万, 6月1450万
    - 颜色: 中蓝色 (#3b82f6)
  - **副轴(右Y轴)**: 当月回款人数占比(%) - 折线图显示
    - 数据示例: 1月60%, 2月65%, 3月70%, 4月68%, 5月75%, 6月80%
    - 颜色: 绿色 (#10b981)
- **视觉特征**:
  - X轴显示月份(1月-6月)
  - 折线图使用直线连接(tension: 0)
  - 折线图层级高于柱状图(order: 0)
  - 折线点半径4px，悬浮时6px
  - 双Y轴刻度，左侧显示金额，右侧显示百分比
- **交互功能**:
  - 点击任意月份的柱体或折线点触发弹窗
  - 弹窗标题: "{月份}回款人员详情"
  - 显示该月有回款记录员工的绩效详情

#### 2.4 部门绩效统计 (堆叠柱状图)
- **图表类型**: 堆叠柱状图 (Stacked Bar Chart)
- **位置布局**: 底部左侧，占据较大宽度(1.2fr)
- **数据维度**:
  - **X轴**: 20个销售部门(销售部S1 ~ 销售部S20)
  - **Y轴**: 人员数量(堆叠显示)
  - **数据层级**:
    - A级人员数量 (深蓝色 #1e40af)
    - B级人员数量 (中蓝色 #3b82f6)  
    - C级人员数量 (浅蓝色 #60a5fa)
    - D级人员数量 (淡蓝色 #93c5fd)
- **数据示例**: 
  - 销售部S1: A级8人, B级15人, C级10人, D级3人
  - 销售部S2: A级12人, B级18人, C级8人, D级2人
  - (每个部门数据略有差异，总计20个部门)
- **视觉特征**:
  - X轴标签45度倾斜显示
  - 堆叠显示各等级人数
  - 图例显示在顶部
  - 每个柱体代表一个部门的总人数分布
- **交互功能**:
  - 点击任意部门的柱体触发弹窗
  - 弹窗标题: "{部门名称}个人绩效详情"
  - 显示该部门所有员工的详细绩效信息

#### 2.5 HR统计 (分类柱状图)
- **图表类型**: 分类柱状图 (Categorical Bar Chart)
- **位置布局**: 底部右侧，占据较小宽度(0.8fr)
- **数据维度**: 6个HR关键指标
  - **业务人数**: 当前在职业务人员总数 (深蓝色 #1e40af)
    - 数据示例: 150人
  - **增员/月**: 本月新增人员数量 (中蓝色 #3b82f6)
    - 数据示例: 12人
  - **减员/月**: 本月离职人员数量 (浅蓝色 #60a5fa)
    - 数据示例: 8人
  - **晋级/月**: 本月技能考试晋级人数 (绿色 #10b981)
    - 数据示例: 15人
  - **降级/月**: 本月技能考试降级人数 (橙色 #f59e0b)
    - 数据示例: 3人
  - **培训/月**: 本月培训活动次数 (紫色 #8b5cf6)
    - 数据示例: 6次
- **视觉特征**:
  - 每个类别使用不同颜色
  - X轴标签45度倾斜显示
  - 不显示图例(每个柱体颜色已区分)
  - 柱体宽度适中，间距均匀
- **交互功能**:
  - **业务人数/增员/减员/晋级/降级**: 点击弹出人员绩效详情
    - 弹窗标题: "{类别}人员详情"
    - 显示标准的员工绩效信息表格
  - **培训/月**: 点击弹出培训信息详情
    - 弹窗标题: "培训通知信息"
    - 显示培训相关的专门表格(培训主题、日期、讲师等)
- **特殊说明**:
  - 晋级/降级特指员工技能等级考试结果
  - 培训数据展示的是培训活动而非人员信息

### 3. 弹窗详情功能

#### 3.1 人员绩效详情弹窗
- **表格字段**: 姓名、工号、绩效时间、绩效分数、绩效结果
- **绩效分数规则**: 
  - A级: 90-100分 (绿色)
  - B级: 80-89分 (蓝色)  
  - C级: 70-79分 (橙色)
  - D级: 60-69分 (红色)
- **触发条件**: 点击任意图表的形状元素

#### 3.2 培训信息弹窗
- **表格字段**: 培训主题、培训日期、讲师、参与人数、培训时长、状态
- **触发条件**: 点击HR图表中的"培训/月"柱体

### 4. 技术要求
- **框架**: 纯HTML+CSS+JavaScript，使用Chart.js图表库
- **样式**: 暗黑模式，商务风格，蓝色系配色
- **字体**: 统一12px字体大小
- **布局**: 紧凑型布局，减少图表间距
- **交互**: 鼠标悬浮显示可点击状态，点击图表元素触发弹窗
- **兼容性**: 确保图表加载速度快，交互响应及时

### 5. 数据展示特点
- 所有部门统一为销售部门(S1-S20)
- 绩效分数自动转换为对应等级
- 支持动态数据生成和展示
- 弹窗表格支持滚动查看更多数据

这个仪表板旨在为管理层提供全面的团队绩效分析视图，通过直观的图表展示和详细的数据钻取功能，帮助快速了解团队绩效表现、奖金分配、回款情况和人力资源动态。 